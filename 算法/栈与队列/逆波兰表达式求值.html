<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // var evalRPN = function(tokens) {
    //     var stack = [];
    //     for(var i = 0; i < tokens.length; i++) {
    //         var token = tokens[i];
    //         if (['+','-','*','/'].indexOf(token) > -1) {
    //             var b = stack.pop();
    //             var a = stack.pop();
    //             if (token === '/') {
    //                 stack.push(eval(`parseInt(${a} ${token} ${b})`));
    //                 continue;
    //             }
    //             stack.push(eval(`${a} ${token} ${b}`));
    //         } else {
    //             stack.push(token);
    //         }
    //     }
    //     return stack.pop();
    // };
    var evalRPN = function(tokens) {
        var stack = [];
        var map = new Map([
            ['+', (a, b) => +a + +b],
            ['-', (a, b) => b - a],
            ['*', (a, b) => a * b],
            ['/', (a, b) => parseInt(b / a)], // 位运算只对整数有效，遇到小数时，会将小数部分舍去，只保留整数部分；将一个小数与0进行二进制或运算。等同 取整数位。
        ])
        for(var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            if(map.has(token)) {
                stack.push(map.get(token)(stack.pop(), stack.pop()));
                continue;
            }
            stack.push(token);
        }
        return stack.pop();
    };
    evalRPN(["2","1","+","3","*"]);
    // evalRPN(["4","13","5","/","+"]);
    // evalRPN(["10","6","9","3","+","-11","*","/","*","17","+","5","+"]);
</script>
</html>