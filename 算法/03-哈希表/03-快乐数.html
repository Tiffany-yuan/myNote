<!--
 * @Author: your name
 * @Date: 2021-10-22 16:54:51
 * @LastEditTime: 2022-04-18 18:59:31
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: /myNote/算法/哈希表/快乐数.html
-->

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // 编写一个算法来判断一个数 n 是不是快乐数。
    // 「快乐数」定义为：对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和，然后重复这个过程直到这个数变为 1，也可能是 无限循环 但始终变不到 1。
    // 如果 可以变为  1，那么这个数就是快乐数。
    // 如果 n 是快乐数就返回 True ；不是，则返回 False 。

    // 示例：
    // 输入：19
    // 输出：true
    // 解释：
    // 1^2 + 9^2 = 82
    // 8^2 + 2^2 = 68
    // 6^2 + 8^2 = 100
    // 1^2 + 0^2 + 0^2 = 1

    var isHappy = function(n) {
        var set = new Set();
        var sum;
        while(sum !== 1) {
            var curNumArr = String(sum || n).split('');
            sum = curNumArr.reduce((prev, cur) => prev + cur*cur, 0);
            if (set.has(sum)) return false;
            else set.add(sum);
        }
        return true;
    }

    
    // var isHappy = function(n) {
    //     // 用一个map来存出现过的数
    //     var map = new Set();
    //     var totalCount;
    //     while(totalCount !== 1) {
    //         var arr = (''+(totalCount || n)).split('');
    //         totalCount = arr.reduce((total, num) => {
    //             return total + num * num
    //         }, 0)
    //         if (map.has(totalCount)) {
    //             return false;
    //         } else {
    //             map.add(totalCount)
    //         }
    //     }
    //     return true;
    // };
    isHappy(19)
</script>
</html>