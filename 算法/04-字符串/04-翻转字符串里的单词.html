<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // 给定一个字符串，逐个翻转字符串中的每个单词。
    // 示例 1：
    // 输入: "the sky is blue"
    // 输出: "blue is sky the"

    // 示例 2：
    // 输入: "  hello world!  "
    // 输出: "world! hello"
    // 解释: 输入字符串可以在前面或者后面包含多余的空格，但是反转后的字符不能包括。

    // 示例 3：
    // 输入: "a good   example"
    // 输出: "example good a"
    // 解释: 如果两个单词间有多余的空格，将反转后单词间的空格减少到只含一个。
    var reverseWords = function(s) {
        var strArr = Array.from(s);
        // 第一步：去掉多余空格
        let slowIndex = 0;
        let fastIndex = 0;
        while(fastIndex < strArr.length) {
            if (strArr[fastIndex] === ' ' && (fastIndex === 0 || strArr[fastIndex - 1] === ' ')) {
                fastIndex++;
            } else {
                strArr[slowIndex++] = strArr[fastIndex++];
            }
        }
        strArr.length = strArr[slowIndex - 1] === ' ' ? slowIndex - 1 : slowIndex;
        // 第二步：翻转整个字符串数组
        reverse(strArr, 0, strArr.length - 1);
        // 第三步：翻转每个单词
        var start = 0;
        for (var i = 0; i <= strArr.length; i++) {
            if (strArr[i] === ' ' || i === strArr.length) {
                // 翻转单词
                reverse(strArr, start, i - 1);
                start = i + 1;
            }
        }
        return strArr.join('');
    }
    var reverse = function (strArr, start, end) {
        var left = start;
        var right = end;
        while (left < right) {
            var temp = strArr[left];
            strArr[left++] = strArr[right];
            strArr[right--] = temp;
        }
    }
</script>
</html>