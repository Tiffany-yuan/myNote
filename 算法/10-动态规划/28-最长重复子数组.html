<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // 给两个整数数组 A 和 B ，返回两个数组中公共的、长度最长的子数组的长度。
    // 示例：
    // 输入： A: [1,2,3,2,1] B: [3,2,1,4,7] 输出：3 解释： 长度最长的公共子数组是 [3, 2, 1] 。
    // 提示：
    // 1 <= len(A), len(B) <= 1000
    // 0 <= A[i], B[i] < 100

    /**
     * @param {number[]} nums1
     * @param {number[]} nums2
     * @return {number}
     */
    var findLength = function(nums1, nums2) {
        // 1. 确定dp数组及下标的含义：
        // dp[i][j]: 以下标为[i - 1]结尾的A 和 以下标为[j - 1]结尾的B，最长重复子数组的长度
        // 2. 递推公式：
        // if (A[i - 1] === B[j - 1]) dp[i][j] = dp[i - 1][j - 1] + 1
        // 初始化：dp[0][0] = 0   dp[i][0] = 0   dp[0][j] = 0
        var ALen = nums1.length;
        var BLen = nums2.length;
        var result = 0;
        var dp = new Array(ALen + 1).fill(0).map(item => item = new Array(BLen + 1).fill(0));
        for (var i = 1; i <= ALen; i++) {
            for (var j = 1; j <= BLen; j++) {
                if (nums1[i - 1] === nums2[j - 1]) {
                    dp[i][j] = dp[i - 1][j - 1] + 1;
                }
                result = dp[i][j] > result ? dp[i][j] : result;
            }
        }
        console.log(result);
        return result;
    };
    findLength([1,2,3,2,1], [3,2,1,4,7])
</script>
</html>
